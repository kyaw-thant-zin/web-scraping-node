"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[7647],{67647:(e,t,i)=>{i.d(t,{X:()=>_t});var o,a=i(11040),n=i(9236),r=i(91051),s=i(79796),d=i(5633),l=i(242),c=i(63218),u=i(22295),p=i(55648),m=i(92951),h=i(16926),g=i(82484),v=i(60941),x=i(99230),f=i(53448),b=i(33774),y=i(4269),j=i(85773);!function(e){e.Compact="compact",e.Follow="following-recommend",e.SearchVideoList="search-video-list"}(o||(o={}));const _={compact:{ratio:196/260,borderRadius:0},"following-recommend":{ratio:.75,borderRadius:8},"search-video-list":{ratio:229/305,borderRadius:2}};var w,k,C,D=i(91034),I=i(27147),P=i(87773),T=i(94445);function O(){return O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},O.apply(this,arguments)}const q=function(e){return r.createElement("svg",O({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 48 48",width:"1em",height:"1em"},e),w||(w=r.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M37.176 41.474a.746.746 0 001.058-.011l1.738-1.787a.755.755 0 00-.012-1.063L7.319 6.526a.745.745 0 00-1.058.012L4.523 8.324a.755.755 0 00.012 1.064l4.777 4.696c-3.19 2.484-5.132 5.777-5.132 9.388 0 7.737 8.914 14.01 19.91 14.01 2.794 0 5.454-.406 7.868-1.137l5.218 5.13zM17.292 21.928l-5.098-5.011c-2.797 2.004-4.032 4.377-4.032 6.555 0 2.204 1.264 4.609 4.133 6.627 2.856 2.01 7.013 3.38 11.795 3.38 1.583 0 3.098-.15 4.52-.425l-2.832-2.784a6.951 6.951 0 01-1.688.207c-3.849 0-6.968-3.136-6.968-7.005 0-.53.058-1.047.17-1.544z",clipRule:"evenodd"})),k||(k=r.createElement("path",{fill:"#fff",d:"M15.88 10.706c2.503-.798 5.283-1.242 8.21-1.242C35.086 9.464 44 15.735 44 23.472c0 3.707-2.046 7.076-5.386 9.582l-2.891-2.843.162-.112c2.868-2.018 4.133-4.423 4.133-6.627 0-2.204-1.265-4.608-4.133-6.626-2.856-2.01-7.014-3.38-11.795-3.38a23.8 23.8 0 00-4.894.5l-3.316-3.26z"})),C||(C=r.createElement("path",{fill:"#fff",d:"M24.09 16.468c-.709 0-1.393.106-2.038.304l8.747 8.599c.17-.604.26-1.24.26-1.899 0-3.868-3.12-7.004-6.969-7.004z"})))};var Z=i(93494),S=i(44084),E=i(51071),L=i(4139),M=i(46499);const z=(0,L.Z)("div",{target:"e1cg0wnj0"})((({borderRadius:e})=>Object.assign({position:"relative",width:"100%"},e?{borderRadius:e,overflow:"hidden"}:{})),"label:DivContainer;"),A=(0,L.Z)("div",{target:"e1cg0wnj1"})({position:"absolute",top:"0",left:"0",right:"0",bottom:"0"},"label:DivWrapper;"),F=(0,L.Z)(z,{target:"eq741c50"})({borderRadius:"4px",overflow:"hidden"},"label:StyledDivContainerV2;"),N=(0,r.memo)((e=>{const{isDetailPage:t}=(0,M.U)(),i=t?F:z;return(0,a.jsx)(i,Object.assign({},e),void 0)})),U=(0,r.memo)((function({ratio:e=0,children:t,className:i,borderRadius:o,e2eTag:n=""}){const r=0===e?100:100/e;return(0,a.jsx)(N,Object.assign({"data-e2e":n,borderRadius:o,className:i},{children:(0,a.jsx)("div",Object.assign({style:{paddingTop:`${r}%`}},{children:(0,a.jsx)(A,{children:t},void 0)}),void 0)}),void 0)}));var B=i(51722),$=i.n(B);function R(e,t,i,o=!1){const a="JP"===e;return{showLike:a,count:o?t:a?i:t}}var V,Q=i(95530),Y=i(60931),J=i(15620),K=i(69988),W=i(36425),G=i(50997);!function(e){e[e.DEFAULT=0]="DEFAULT",e[e.INSIDE=1]="INSIDE"}(V||(V={}));const H=(0,L.Z)("div",{target:"exdlci10"})((({type:e})=>[{display:"flex",alignItems:"center",overflow:"hidden",marginTop:"2px"},1===e?{position:"absolute",bottom:"0",boxSizing:"border-box",width:"100%",height:"60px",background:"linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(0, 0, 0, .5) 100%)",marginTop:"0",padding:"24px 12px 12px"}:null]),"label:DivCardAvatar;"),X=(0,L.Z)(G.q,{target:"exdlci11"})({flex:"none"},"label:StyledAvatar;"),ee=(0,L.Z)(Q.rU,{target:"exdlci12"})({overflow:"hidden"},"label:StyledLink;"),te=(0,L.Z)(K.Z,{target:"exdlci13"})((({theme:{direction:e}})=>[{flex:"none"},(0,W.YJ)({direction:e,marginStart:4})]),"label:StyledVerifiedBadgeColor;"),ie=(0,L.Z)("p",{target:"exdlci14"})((({theme:{colors:e,direction:t},type:i})=>[{display:"flex",alignItems:"center",fontSize:"16px",lineHeight:"22px",color:1===i?e.BGPrimary:e.TextSecondary,whiteSpace:"nowrap",overflow:"hidden",":hover":{textDecoration:"underline"}},(0,W.YJ)({direction:t,marginStart:1===i?4:8})]),"label:PUserTitle;"),oe=(0,L.Z)("h4",{target:"exdlci15"})((({theme:e,type:t})=>[(0,W.GI)({theme:e,fontFamily:"Proxima",fontWeight:1===t?"semiBold":"normal"}),{flex:"1",overflow:"hidden",textOverflow:"ellipsis",color:"rgba(255,255,255,1.0)"}]),"label:H4UserName;"),ae=(0,r.memo)((function({videoData:e,teaParams:t,e2ePrefix:i,type:o=0}){var s;const{language:d}=null!==(s=(0,Y.Lh)((()=>["language"]),[]))&&void 0!==s?s:{},{author:l,id:c}=null!=e?e:{},u=(0,n.mp)(f.z,{selector:e=>{if(l)return e.users[l]},dependencies:[l]}),{uniqueId:p="",secUid:m,avatarThumb:h,verified:v,nickname:x}=(0,g.m7)(u),b=`${(0,D.yl)({uniqueId:p,secUid:null!=m?m:""})}?lang=${d}`,y=(0,r.useCallback)((e=>i=>{null==i||i.stopPropagation(),J.W.handleEnterUser(Object.assign(Object.assign({},t),{enter_method:e,to_user_id:l,group_id:c,author_id:l}))}),[l,c,t]);return(0,a.jsxs)(H,Object.assign({type:o},{children:[(0,a.jsx)(Q.rU,Object.assign({"data-e2e":`${i}-item-avatar`,to:b,onClick:y("user_portrait")},{children:(0,a.jsx)(X,{src:h,size:24,alt:`${x},${p}`},void 0)}),void 0),(0,a.jsx)(ee,Object.assign({title:p,onClick:y("user_name"),to:b},{children:(0,a.jsxs)(ie,Object.assign({type:o},{children:[(0,a.jsx)(oe,Object.assign({"data-e2e":`${i}-item-username`,className:"user-name",type:o},{children:p}),void 0),v&&(0,a.jsx)(te,{width:14,height:14},void 0)]}),void 0)}),void 0)]}),void 0)}));var ne=i(26183),re=i(837),se=i(16883),de=i(77969);const le=(0,L.Z)("div",{target:"e148ts220"})((({notPass:e})=>[{position:"absolute",width:"100%",bottom:"0",height:e?"100%":"100px",background:e?"rgba(18, 18, 18, .5)":"linear-gradient(180deg, rgba(22, 24, 35, .0001) 2.92%, rgba(22, 24, 35, .5) 98.99%)",padding:"67px 13px 17px",paddingTop:e?"100%":"67px"},(0,W.f1)({max:479,style:e?null:{paddingTop:"72px"}})]),"label:DivCardFooter;"),ce=(0,L.Z)("span",{target:"e148ts221"})((({theme:e})=>[(0,W.GI)({theme:e,fontFamily:"Proxima",fontWeight:"semiBold",color:"ConstTextInverse"}),{verticalAlign:"middle",fontSize:"16px"},(0,W.f1)({max:479,style:{fontSize:"14px",lineHeight:"18px"}})]),"label:SpanNotPass;"),ue=(0,L.Z)("strong",{target:"e148ts222"})((({theme:e})=>[(0,W.GI)({theme:e,fontFamily:"Proxima",fontWeight:"semiBold",color:"ConstTextInverse"}),{verticalAlign:"middle",fontSize:"16px"}]),"label:StrongVideoCount;"),pe=({theme:{direction:e}})=>[(0,W.YJ)({direction:e,marginEnd:4}),{verticalAlign:"middle"},(0,W.f1)({max:479,style:{verticalAlign:"-.15em"}})],me=({theme:{direction:e}})=>({float:(0,W.$K)(e,"end"),position:"relative",top:"4px"}),he=(0,L.Z)(ne.Z,{target:"e148ts223"})(pe,"label:StyledHeart;"),ge=(0,L.Z)(re.Z,{target:"e148ts225"})(pe,"label:StyledPlay;"),ve=(0,L.Z)(se.Z,{target:"e148ts226"})(me,"label:StyledLock3pt;"),xe=(0,L.Z)(de.Z,{target:"e148ts227"})(me,"label:StyledTwoPerson;"),fe=(0,r.memo)((function({videoData:e,content:t}){var i,o;const n=(0,v.Q)(),{region:r=""}=null!==(i=(0,Y.Lh)((()=>["region"]),[]))&&void 0!==i?i:{},{secret:s,forFriend:d,showNotPass:l,scheduleTime:c}=(0,g.m7)(e),{diggCount:u,playCount:p}=null!==(o=null==e?void 0:e.stats)&&void 0!==o?o:{},m=(0,g.BT)(u),h=(0,g.BT)(null!=p?p:0),{showLike:x,count:f}=R(r,h,m);return t?(0,a.jsx)(le,Object.assign({notPass:l},{children:t}),void 0):(0,a.jsx)(le,Object.assign({notPass:l},{children:c?null:l?(0,a.jsx)(ce,{children:n("cover_notice_violation")},void 0):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(a.Fragment,{children:[x?(0,a.jsx)(he,{className:"like-icon",width:18,height:18,fill:"#fff"},void 0):(0,a.jsx)(ge,{"data-e2e":"video-play",className:"like-icon",width:18,height:18,fill:"#fff"},void 0),(0,a.jsx)(ue,Object.assign({"data-e2e":"video-views",className:"video-count"},{children:f}),void 0)]},void 0),s&&!d&&(0,a.jsx)(ve,{className:"private",width:18,height:18,fill:"#fff"},void 0),d&&(0,a.jsx)(xe,{className:"private",width:18,height:18,fill:"#fff"},void 0)]},void 0)}),void 0)}));var be=i(81537),ye=i(40666),je=i(38725),_e=i(72300);const we=(0,L.Z)("div",{target:"e19c29qe0"})((({theme:e})=>({width:"100%",height:"100%",left:"0",top:"0",backdropFilter:"blur(50px)",backgroundColor:e.colors.SDSecondary,position:"absolute",borderRadius:"4px"})),"label:DivMask;"),ke=(0,L.Z)("div",{target:"e19c29qe1"})((({theme:e})=>({position:"absolute",top:"50%",left:"50%",color:e.colors.ConstTextInverse,transform:"translate(-50%, -50%)"})),"label:DivMaskContainer;"),Ce=(0,L.Z)("canvas",{target:"e19c29qe2"})((({horizontal:e})=>({display:"block",visibility:"hidden",[e?"width":"height"]:"100%"})),(0,W.f1)({max:479,style:{width:"100%",height:"auto"}}),"label:CanvasPlaceholder;"),De=(0,L.Z)("div",{target:"e19c29qe3"})({position:"relative",boxSizing:"border-box",background:"#eee center no-repeat",backgroundSize:"cover",cursor:"pointer",borderRadius:"8px",overflow:"hidden"},(({theme:{direction:e}})=>(0,W.YJ)({direction:e,marginEnd:"20px"})),(({horizontal:e})=>{const t=e?"width":"height";return[{[t]:"600px"},(0,W.f1)({max:1919,style:{[t]:"calc(450px + (100vw - 768px) / 1152 * 100)"}},{max:767,style:{[t]:"calc(380px + (100vw - 480px) / 288 * 20)"}},{max:479,style:{width:"calc(100vw - 32px - 60px)",height:"auto"}})]}),"label:DivContainer;");De.defaultProps=Object.assign(Object.assign({},De.defaultProps),{"data-e2e":"feed-video"});const Ie=(0,L.Z)("div",{target:"e19c29qe4"})({position:"absolute",left:0,top:0,width:"100%",height:"100%"},"label:DivPlayerContainer;"),Pe=(0,L.Z)("div",{target:"e19c29qe6"})({position:"absolute",bottom:0,left:0,right:0},"label:DivWarnInfoPosition;"),Te=(0,L.Z)("div",{target:"e19c29qe7"})((({theme:e})=>[(0,W.YJ)({direction:e.direction}),{borderRadius:"4px"}]),"label:DivItemContainerV2;"),Oe=(0,L.Z)("div",{target:"e19c29qe8"})((({theme:{direction:e},hasDescUnderItem:t})=>[{display:"block",float:(0,W.$K)(e,"start")},(0,W.YJ)({direction:e,marginEnd:"2px"}),t?{width:"190px",marginBottom:"12px",":nth-of-type(even)":(0,W.YJ)({direction:e,marginEnd:"12px"}),":nth-of-type(odd)":(0,W.YJ)({direction:e,marginEnd:"12px"}),":nth-of-type(3n)":(0,W.YJ)({direction:e,marginEnd:"0"})}:{width:"196px",marginBottom:"2px",":nth-of-type(even)":[(0,W.YJ)({direction:e,marginEnd:"2px"})]},(0,W.f1)({max:1071,style:t?{width:"calc(50% - 6px)",height:"auto",":nth-of-type(3n)":(0,W.YJ)({direction:e,marginEnd:"12px"}),":nth-of-type(even)":(0,W.YJ)({direction:e,marginEnd:"0"})}:{width:"50%",height:"auto",":nth-of-type(even)":[(0,W.YJ)({direction:e,marginEnd:"-2px"})]}})]),"label:DivItemContainer;"),qe=(0,L.Z)("div",{target:"e19c29qe9"})((({theme:{direction:e}})=>[{display:"block",float:(0,W.$K)(e,"start"),borderRadius:"2px"},(0,W.YJ)({direction:e,marginEnd:"2px"}),{width:"calc(33.3% - 12px)",marginInlineEnd:"12px"},(0,W.f1)({max:1071,style:{width:"calc(50% - 12px)",marginEnd:"12px"}})]),"label:DivItemContainerForSearch;"),Ze=(0,L.Z)("div",{target:"e19c29qe10"})((({theme:e})=>[(0,W.YJ)({direction:e.direction,marginStart:"8px"}),{position:"absolute",top:"8px",padding:"4px 5px",borderRadius:"2px",background:e.colors.Primary}]),"label:DivVideoTagContainer;"),Se=(0,L.Z)("span",{target:"e19c29qe11"})((({theme:e})=>[(0,W.GI)({theme:e,typography:"P3",color:"ConstTextInverse",fontFamily:"Proxima",fontWeight:"semiBold"}),{position:"relative",zIndex:2}]),"label:SpanVideoTag;"),Ee=(0,L.Z)("span",{target:"e19c29qe12"})((({theme:{colors:e}})=>[{display:"flex",justifyContent:"center",alignItems:"center",height:"33px",background:e.BGInverse3,lineHeight:"33px",fontSize:"13px",color:"#fff"}]),"label:SpanScheduleTimeWarn;"),Le=(0,L.Z)(je.Z,{target:"e19c29qe13"})((({theme:{direction:e}})=>[(0,W.YJ)({direction:e,marginEnd:5})]),"label:StyledClock;"),Me=(0,L.Z)("div",{target:"e19c29qe14"})((({theme:e})=>[(0,W.GI)({theme:e,typography:"P2",color:"ConstTextInverse",fontFamily:"Proxima",fontWeight:"semiBold"}),{width:"88px",height:"20px",display:"flex",alignItems:"center"}]),"label:DivTimeTag;"),ze=(0,L.Z)("div",{target:"e19c29qe15"})((({theme:{direction:e}})=>[Object.assign({position:"absolute",top:"12px",color:"#fff"},(0,_e.s)()),(0,W.YJ)({direction:e,end:"12px"})]),"label:DivPhotoIconContainer;"),Ae=(0,L.Z)("img",{target:"e19c29qe16"})({width:"100%",height:"100%",objectFit:"cover",transition:"transform 150ms linear",":hover":{transform:"scale(1.1)"}},"label:ImgPoster;");var Fe=i(88475),Ne=i(19152);const Ue=(0,L.Z)("a",{target:"epeqwgm0"})({display:"block",marginTop:"4px",":hover":{textDecoration:"none"}},"label:AMetaCaptionLine;"),Be=(0,L.Z)("div",{target:"epeqwgm1"})((({theme:e})=>[(0,W.GI)({theme:e,fontFamily:"Proxima",fontWeight:"normal"}),{padding:"2px 4px 0px",cursor:"hover",height:"28px",overflow:"hidden",boxSizing:"content-box"}]),"label:DivQuestionCardDesc;"),$e={enter_method:"video_desc"},Re=(0,r.memo)((function(e){var t,i,o;const{videoData:r,mode:s}=e,{user:d}=(0,g.m7)((0,Y.Lh)((()=>["user"]),[])),l=null==d?void 0:d.ftcUser,{scheduleTime:c,warnInfo:u=[]}=(0,g.m7)(r),{questionInfo:p}=(0,n.mp)(Ne.D,{selector:e=>({questionInfo:e.questionInfo}),dependencies:[]}),m=u&&u.length>0,{content:h="",id:v=""}=(0,g.m7)(p),x=`https://www.tiktok.com${(0,D._9)({questionId:v,questionContent:h})}`,f=Boolean(c||l);return m?null:(0,a.jsx)(Be,Object.assign({onClick:null===(t=e.onClick)||void 0===t?void 0:t.call(e,"click_blank"),onMouseEnter:null===(i=e.onMouseEnter)||void 0===i?void 0:i.call(e,"hover_blank")},{children:(0,a.jsx)(Ue,Object.assign({"data-e2e":"question-item-caption",onClick:null===(o=e.onClick)||void 0===o?void 0:o.call(e,"video_desc"),title:null==r?void 0:r.desc,href:x},{children:(0,a.jsx)(Fe.Q,{mode:s,ellispsisLine:1,styleType:"question",item:r,ellipsisOnNarrow:!0,reportParams:$e,shouldReport:f},void 0)}),void 0)}),void 0)}));var Ve=i(43226),Qe=i.n(Ve),Ye=i(97558),Je=i(98691),Ke=i(96637),We=i(84642),Ge=i(78249);const He=(0,L.Z)("div",{target:"etrd4pu0"})((({disable:e})=>e?{pointerEvents:"none"}:null),"label:DivVideoSearchCardDesc;"),Xe=(0,L.Z)("div",{target:"etrd4pu1"})([(0,W.FC)(2),{marginTop:"4px",wordBreak:"break-word",cursor:"pointer"}],"label:DivMetaCaptionLine;"),et=(0,L.Z)("div",{target:"etrd4pu2"})((({theme:e})=>[(0,W.GI)({theme:e,fontFamily:"Proxima",fontWeight:"normal"}),{paddingTop:"4px",paddingBottom:"26px"}]),"label:DivCardBottomInfo;"),tt=(0,L.Z)("div",{target:"etrd4pu3"})((({theme:e})=>[(0,W.GI)({theme:e,typography:"P2",color:"TextSecondary"}),{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"4px"}]),"label:DivPlayLine;"),it=(0,L.Z)("div",{target:"etrd4pu4"})({display:"flex",alignItems:"center",flexShrink:0},"label:DivPlayIcon;"),ot=({theme:{direction:e}})=>[{verticalAlign:"middle"},(0,W.YJ)({direction:e,marginEnd:4})],at=(0,L.Z)("div",{target:"etrd4pu5"})({display:"flex",alignItems:"center"},"label:DivUserInfo;"),nt=(0,L.Z)("p",{target:"etrd4pu6"})((({theme:{direction:e}})=>[(0,W.YJ)({direction:e,marginStart:"4px",marginEnd:"4px"}),{maxWidth:"100px",overflow:"hidden",textOverflow:"ellipsis"}]),"label:PUniqueId;"),rt=(0,L.Z)(ne.Z,{target:"etrd4pu7"})(ot,"label:StyledHeart;"),st=(0,L.Z)(Ge.Z,{target:"etrd4pu8"})(ot,"label:StyledHeartFill;"),dt=(0,L.Z)(re.Z,{target:"etrd4pu9"})(ot,"label:StyledPlay;"),lt=(0,L.Z)("strong",{target:"etrd4pu10"})({fontWeight:"normal"},"label:StrongVideoCount;"),ct=(0,r.memo)((function({videoData:e,reportParams:t,onClick:i,onMouseEnter:o,onReportClick:s}){var d,c;const u=(0,g.m7)(e),{scheduleTime:p,id:m="",digged:h,author:v=""}=u,x=(0,n.mp)(f.z,{selector:e=>e.users[v],dependencies:[]}),{avatarThumb:b="",uniqueId:y="",verified:j=!1,secUid:_}=(0,g.m7)(x),w=(0,Ye.CN)(Object.assign({user:x,enterMethod:"creator"},t)),{region:k=""}=null!==(d=(0,Y.Lh)((()=>["region"]),[]))&&void 0!==d?d:{},{diggCount:C,playCount:D=0}=null!==(c=null==e?void 0:e.stats)&&void 0!==c?c:{},I=(0,g.BT)(C),P=(0,g.BT)(D),{showLike:T,count:O}=R(k,P,I),q=(0,n.qj)(l.A),Z=(0,r.useCallback)((()=>{q.postLikeVideo(Object.assign({id:m,enter_method:"click_like",channel_id:23},t))}),[m,q,t]),S=(0,Je.X)({action:T?Z:Qe(),modalConfig:{query:{enter_method:"click_like",redirect_url:window.location.href}}}),E=(0,r.useCallback)((()=>{null==s||s("person")}),[s]);return(0,a.jsx)(He,Object.assign({"data-e2e":"search-card-desc",disable:p},{children:(0,a.jsxs)(et,{children:[(0,a.jsx)(Xe,Object.assign({onClick:null==i?void 0:i("video_desc"),onMouseEnter:null==o?void 0:o("hover_cover"),"data-e2e":"search-card-video-caption"},{children:(0,a.jsx)(Fe.Q,{item:e,ellipsisOnNarrow:!0,reportParams:t,onSearchResultClick:s},void 0)}),void 0),(0,a.jsx)(Ke.C,{item:u},void 0),p?null:(0,a.jsxs)(tt,{children:[(0,a.jsx)(We.D,Object.assign({"data-e2e":"search-card-user-link",uniqueId:y,secUid:_,teaParams:w,onClick:E},{children:(0,a.jsxs)(at,{children:[(0,a.jsx)(G.q,{style:{flexShrink:0},src:b,shape:"circle",size:24},void 0)," ",(0,a.jsx)(nt,Object.assign({"data-e2e":"search-card-user-unique-id"},{children:y}),void 0),j&&(0,a.jsx)(K.Z,{"data-e2e":"search-card-user-verified",style:{flexShrink:0},width:14,height:14},void 0)]},void 0)}),void 0),(0,a.jsxs)(it,Object.assign({"data-e2e":"search-card-like-container",onClick:S},{children:[T?h?(0,a.jsx)(st,{className:"like-icon",width:18,height:18,fill:"rgb(254, 44, 85)"},void 0):(0,a.jsx)(rt,{className:"like-icon",width:18,height:18,fill:"rgba(22, 24, 35, 0.75)"},void 0):(0,a.jsx)(dt,{className:"like-icon",width:16,height:16,fill:"rgba(22, 24, 35, 0.75)"},void 0),(0,a.jsx)(lt,{children:O},void 0)]}),void 0)]},void 0)]},void 0)}),void 0)})),ut=(0,L.Z)("a",{target:"eih2qak0"})({display:"block",marginTop:"4px",":hover":{textDecoration:"none"}},"label:AMetaCaptionLine;"),pt=(0,L.Z)("div",{target:"eih2qak1"})((({theme:e})=>[(0,W.GI)({theme:e,fontFamily:"Proxima",fontWeight:"normal"}),{padding:"2px 4px 0px",cursor:"hover",height:"28px",overflow:"hidden",boxSizing:"content-box"}]),"label:DivTagCardDesc;"),mt={enter_method:"video_desc"},ht=(0,r.memo)((function(e){var t,i,o,r;const s=(0,v.Q)(),d=(0,I.RZ)(),{videoData:l,mode:c,itemListKey:u}=e,{user:p}=null!==(t=(0,Y.Lh)((()=>["user"]),[]))&&void 0!==t?t:{},m=null==p?void 0:p.ftcUser,{scheduleTime:h,warnInfo:g=[],id:x="",authorId:b,nickname:y,music:j,desc:_}=null!=l?l:{},w=(0,n.mp)(f.z,{selector:e=>{if(b)return e.users[b]},dependencies:[b]}),{uniqueId:k=""}=null!=w?w:{},C=g&&g.length>0,P=`https://www.tiktok.com${(0,D.fH)({uniqueId:k,videoId:x})}`,T=Boolean(h||m),{authorName:O,title:q}=null!=j?j:{},Z=s("seo_user_video_cover",{videoText:_,videoAuthor:y,musicAuthor:O,musicName:q});return C?null:(0,a.jsx)(pt,Object.assign({"data-e2e":`${u}-item-desc`,onClick:null===(i=e.onClick)||void 0===i?void 0:i.call(e,"click_blank"),onMouseEnter:null===(o=e.onMouseEnter)||void 0===o?void 0:o.call(e,"hover_blank")},{children:(0,a.jsx)(ut,Object.assign({onClick:null===(r=e.onClick)||void 0===r?void 0:r.call(e,"video_desc"),title:d?Z:null==l?void 0:l.desc,href:P},d&&{"aria-label":Z},{children:(0,a.jsx)(Fe.Q,{mode:c,ellispsisLine:1,styleType:"tag",item:l,ellipsisOnNarrow:!0,reportParams:mt,shouldReport:T},void 0)}),void 0)}),void 0)}));var gt=i(28509);const vt=[3,16,4,18,121],xt=(0,r.memo)((function({index:e,id:t,pageType:i,itemListKey:o,mode:s="compact",hasDescUnderItem:u,borderRadius:p,teaParams:m}){var w,k,C;const O=(0,n.mp)(l.A,{selector:e=>e[t],dependencies:[t]}),{video:L,itemMute:z=!1,warnInfo:A,desc:F="",showNotPass:N=!1,author:B="",scheduleTime:R,authorId:V="",secret:Q=!1,forFriend:Y=!1,downloadSetting:J=0,authorPrivate:K=!1,adLabelVersion:W}=(0,g.m7)(O),{playAddr:G="",cover:H="",zoomCover:X,originCover:ee,dynamicCover:te="",duration:ie,bitrateInfo:oe,volumeInfo:ne,bitrate:re,encodedType:se="",format:de="",videoQuality:le="",encodeUserTag:ce="",codecType:ue="",definition:pe=""}=(0,g.m7)(L),me=null!==(k=null!==(w=(null==X?void 0:X[480])||H)&&void 0!==w?w:ee)&&void 0!==k?k:te,he=(0,v.Q)(),ge=(({item:e,itemListKey:t})=>{const i=(0,v.Q)(),{originalItem:o,officalItem:n}=null!=e?e:{},r=Boolean(o);return Boolean(n)?(0,a.jsx)(Ze,Object.assign({"data-e2e":`${t}-official`},{children:(0,a.jsx)(Se,{children:i("official_tag")},void 0)}),void 0):r?(0,a.jsx)(Ze,Object.assign({"data-e2e":`${t}-original`},{children:(0,a.jsx)(Se,{children:i("original_tag")},void 0)}),void 0):null})({item:O,itemListKey:o}),ve=(0,n.mp)(x.bg,{selector:e=>e.blockedVideos||[],dependencies:[]}),xe=(0,n.qj)(x.bg),je=(0,n.qj)(d.f),_e=(0,n.mp)(f.z,{selector:e=>{if(B)return e.users[B]},dependencies:[O]}),{uniqueId:De="",secUid:Fe="",nickname:Ne}=(0,g.m7)(_e),{music:Ue}=(0,g.m7)(O),{title:Be,authorName:$e}=(0,g.m7)(Ue),Ve=he("seo_user_video_cover",{videoText:null==O?void 0:O.desc,videoAuthor:Ne,musicAuthor:$e,musicName:Be}),Qe=function(e){const{teaParams:t,id:i,pageType:o}=e;return(0,r.useMemo)((()=>{const{search_id:e,search_keyword:a}=null!=t?t:{};let n,r={};switch(e&&(r=Object.assign(Object.assign({},r),{search_id:e,impr_id:e,search_keyword:a,search_result_id:i})),o){case 105:n="general";break;case 106:n="user";break;case 107:n="video";break;default:n=void 0}return n&&(r.search_type=n),r}),[t,i,o])}({teaParams:m,id:t,pageType:i}),Ye=(0,b.K$)(O),Je=(0,r.useMemo)((()=>Object.assign(Object.assign(Object.assign(Object.assign({},m),Qe),{group_id:t,author_id:V,is_scheduled:Boolean(R),bitrate:Number(re),encodedType:se,format:de,videoQuality:le,encodeUserTag:ce,codecType:ue,definition:pe,secret:Q,forFriend:Y,isPaidPartnership:2===W}),Ye)),[m,Qe,t,V,R,re,se,de,le,ce,ue,pe,Q,Y,W,Ye]),Ke=function(e){const{teaParams:t,pageType:i}=e;return(0,r.useMemo)((()=>[105,106,107].includes(i)?Object.assign(Object.assign({},t),{enter_from:`${ye.W.commonParams.page_name}_result`}):t),[t,i])}({teaParams:Je,pageType:i}),We=(0,r.useRef)(null),{showBrowserMode:Ge}=(0,r.useContext)(y._),He=(0,h.fz)(Z.KF),Xe=(0,h.fz)(S.ec),et=(0,r.useCallback)(((t,i)=>{var o,a;if(t.preventDefault(),t.stopPropagation(),null==O?void 0:O.showNotPass)return;const n=Object.assign(Object.assign({},Je),{enter_method:i,from_mode:1});Ge({index:e,teaParams:Ke,playProgress:null!==(a=null===(o=We.current)||void 0===o?void 0:o.currentTime)&&void 0!==a?a:0,reportTeaParams:n}),Xe.setEnterMethod(i),He.handleUserChangeVideoOrPlayMode(),He.reportVideoInteractStart({startTime:Date.now(),situation:"open_browser_mode",enter_method:i})}),[null==O?void 0:O.showNotPass,Je,Ge,e,Ke,Xe,He]),{showVideoMask:tt}=(0,c.g)({item:null!=O?O:{},playMode:1}),{hideMaskTempVideoId:it}=(0,n.mp)(j.P),ot=tt&&it!==t,at=(0,r.useCallback)((e=>{ot||(e.preventDefault(),e.stopPropagation(),O&&xe.removeBlockVideo(O.id))}),[xe,O,ot]),nt=(0,r.useCallback)((e=>{const{search_id:t="",search_keyword:i="",search_result_id:o="",search_type:a="general"}=Qe;E.xq.handleSearchResultClick({search_id:t,search_keyword:i,search_result_id:o,search_type:a,token_type:e})}),[Qe]),rt=(0,r.useCallback)((e=>t=>et(t,e)),[et]),st=function(e){return![3,4,103,16,18,121].includes(e)}(Number(i)),{ratio:dt}=_[s];let lt;lt="following-recommend"===s?`https://www.tiktok.com${(0,D.yl)({uniqueId:De,secUid:null!=Fe?Fe:""})}`:`https://www.tiktok.com${(0,D.fH)({uniqueId:De,secUid:null!=Fe?Fe:"",videoId:null!==(C=null==L?void 0:L.id)&&void 0!==C?C:""})}`;const ut=(0,r.useCallback)((i=>o=>{var a,n;ot||(o.preventDefault(),je.updateVideo({currentVideo:{id:t,index:e,mode:1},playProgress:null!==(n=null===(a=We.current)||void 0===a?void 0:a.currentTime)&&void 0!==n?n:0}),Xe.setEnterMethod(i),He.reportVideoInteractStart({startTime:Date.now(),situation:"three_column_user_hover",enter_method:i}))}),[ot,je,t,e,Xe,He]),{isDetailPage:pt}=(0,M.U)(),mt=vt.includes(i),xt=(0,r.useMemo)((()=>{let t=null;switch(i){case 16:t=(0,a.jsx)(Re,{mode:s,index:e,onMouseEnter:ut,onClick:rt,videoData:O},void 0);break;case 3:case 4:case 1:case 121:case 18:t=(0,a.jsx)(ht,{mode:s,index:e,itemListKey:o,onMouseEnter:ut,onClick:rt,videoData:O},void 0);break;case 105:case 107:t=(0,a.jsx)(ct,{onClick:rt,onMouseEnter:ut,videoData:O,reportParams:Qe,onReportClick:nt},void 0)}return t}),[i,O,e,ut,rt,Qe,nt,s]),ft=pt?Te:105===i||107===i?qe:Oe,bt=(e=>{const{timeTranslator:t}=(0,be.e)(),{createTime:i}=null!=e?e:{},o=t(1e3*Number(i));return(0,a.jsx)(Me,{children:o},void 0)})(O),yt=105===i||107===i?bt:null,jt=(0,b.kw)(O),_t=(0,I.p_)();return(0,a.jsxs)(ft,Object.assign({hasDescUnderItem:u},{children:[(0,a.jsx)(U,Object.assign({e2eTag:`${o}-item`,ratio:dt,borderRadius:p,hasDescUnderItem:u},{children:(0,a.jsxs)("a",Object.assign({style:(null==O?void 0:O.showNotPass)?{pointerEvents:"none"}:void 0,href:lt,onMouseEnter:ut("hover_cover"),onClick:et},{children:[(0,a.jsx)(Ce,{width:100*dt,height:100},void 0),(0,a.jsxs)(Ie,{children:[jt?(0,a.jsx)(Ae,{src:me,alt:F},void 0):(0,a.jsx)(P.S,{desc:_t?Ve:F,poster:me,horizontal:!1,mode:1,ref:We,id:t,playUrl:G,index:e,itemMute:z,duration:ie,bitrateInfo:oe,teaParams:Je,disableDownload:K||0!==J,volumeInfo:ne,bitrate:Number(re)},void 0),(null==A?void 0:A[0])&&(0,a.jsx)(Pe,{children:(0,a.jsx)(T.p,{needExtraBottom:!0,info:null==A?void 0:A[0]},void 0)},void 0),Boolean(R)&&(0,a.jsx)(Pe,{children:(0,a.jsxs)(Ee,{children:[(0,a.jsx)(Le,{width:14.67,height:14.67},void 0),(e=>{const[t,i]=e.split(" "),[o,n,r]=t.split("-");return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{children:o},void 0),(0,a.jsx)("span",{children:"-"},void 0),(0,a.jsx)("span",{children:n},void 0),(0,a.jsx)("span",{children:"-"},void 0),(0,a.jsx)("span",{children:r},void 0),(0,a.jsx)("span",{children:" "},void 0),(0,a.jsx)("span",{children:i},void 0)]},void 0)})((wt=R,$().unix(wt).format("YYYY-M-D H:mm")))]},void 0)},void 0),ge,jt&&(0,a.jsx)(ze,{children:(0,a.jsx)(gt.d,{size:20},void 0)},void 0),st&&(0,a.jsx)(fe,{videoData:O,content:yt},void 0),!(null==A?void 0:A[0])&&mt&&(0,a.jsx)(ae,{e2ePrefix:o,type:1,videoData:O,teaParams:m},void 0),ot||ve.includes((null==O?void 0:O.id)||"")?(0,a.jsx)(we,{children:(0,a.jsx)(ke,Object.assign({onClick:at},{children:(0,a.jsx)(q,{width:"48",height:"48"},void 0)}),void 0)},void 0):null]},void 0)]}),void 0)}),void 0),!N&&xt]}),void 0);var wt})),ft=(0,L.Z)("div",{target:"eegew6e0"})((({hasDescUnderItem:e})=>[{"::after":{content:'""',height:"0",display:"block",clear:"both"}},e?{display:"flex",flexWrap:"wrap"}:null,(0,W.f1)({max:767,style:{width:"100%"}})]),"label:DivVideoFeed;"),bt=(0,L.Z)("div",{target:"eegew6e2"})({width:"100%"},"label:DivThreeColumnContainer;"),yt=(0,L.Z)("div",{target:"ecyq5ls0"})({display:"grid",gridGap:"24px 16px",gridTemplateColumns:"repeat(auto-fill, minmax(184px, 1fr))"},"label:DivVideoFeedV2;"),jt=(0,r.memo)((e=>{const{isDetailPage:t}=(0,M.U)(),i=t?yt:ft;return(0,a.jsx)(i,Object.assign({},e),void 0)})),_t=(0,r.memo)((0,s.J)()((function({mode:e="compact",loading:t,itemList:i,pageType:o,itemListKey:s,onHitBottom:h,frozen:g,borderRadius:v,renderMap:x,renderTitle:f,teaParams:b}){const y=(0,r.useCallback)((()=>{g||null==h||h()}),[g,h]),j=(0,p.s)({onHitBottom:y}),_=(0,n.qj)(d.f),w=i[0],k=(0,n.mp)(l.A,{selector:e=>e[w],dependencies:[w]}),{showVideoMask:C}=(0,c.g)({item:null!=k?k:{},playMode:1});(0,r.useEffect)((()=>{!C&&_.updateVideo({currentVideo:{id:i[0],index:0,mode:1},teaParams:{isThreeColumnAuto:!0},playProgress:0})}),[C]),(0,u.$v)(1);const D=3===o||105===o||107===o||16===o,I=e=>{if(null==x?void 0:x.length){const t=x.findIndex((t=>t.position===e));if(t>-1)return x[t].renderNode(e)}return null};return(0,a.jsxs)(bt,Object.assign({ref:j},{children:[(0,a.jsxs)(jt,Object.assign({"data-e2e":`${s}-item-list`,hasDescUnderItem:D,mode:e},{children:[I(0),i.map(((t,i)=>(0,a.jsxs)(r.Fragment,{children:[0===i&&f,(0,a.jsx)(xt,{id:t,index:i,mode:e,pageType:o,borderRadius:v,itemListKey:s,hasDescUnderItem:D,teaParams:b},t),I(i+1)]},t)))]}),void 0),t&&(0,a.jsx)(m.g,{center:!0},void 0)]}),void 0)})))},19152:(e,t,i)=>{i.d(t,{D:()=>I});var o=i(64047),a=i(73566),n=i(48185),r=i(19630),s=i(82346),d=i(58569),l=i(60595),c=i(53095),u=i(49584),p=i(68854),m=i(10026),h=i(5549),g=i(12167),v=i(96980),x=i(20948),f=i(97668),b=i(57351),y=i(8444),j=i(242),_=i(53448),w=i(35329),k=i(57244),C=i(71332);let D=class{constructor(e){this.fetch=e}getQuestionDetail(e){return this.fetch.get("/api/question/detail/",{query:e,baseUrlType:2})}};D=(0,o.__decorate)([(0,k.G)(),(0,o.__metadata)("design:paramtypes",[C.r])],D);let I=class extends a.D{constructor(e,t,i,o,a,n){super(),this.service=e,this.seoModule=t,this.itemList=i,this.item=o,this.user=a,this.bizContext=n,this.defaultState={statusCode:0,questionInfo:void 0,loading:!0}}setQuestionInfo(e,t){const{statusCode:i=0,questionInfo:o}=null!=t?t:{};e.statusCode=i,e.questionInfo=o}resetData(e){e.loading=!0,e.statusCode=0,e.questionInfo=void 0}setLoading(e,t){e.loading=t}resetQuestionData(e){return e.pipe((0,c.z)((()=>(0,s.of)(this.getActions().dispose$(),this.getActions().resetData(),this.itemList.getActions().dispose$(),this.itemList.getActions().resetItemList({key:"question"})))))}getQuestionPageData(e){return e.pipe((0,u.z)((({questionId:e="",scene:t="",abTestVersion:i,user:o,language:a,appType:n})=>this.service.getQuestionDetail({questionId:e,language:a}).pipe((0,p.K)((()=>(0,s.of)({statusCode:-1}))),(0,c.z)((r=>{const{statusCode:l}=r,c=[(0,s.of)(this.getActions().setQuestionInfo(r),this.getActions().setLoading(!1))];let u;return 0===l&&(u=this.itemList.getQuestionList$({questionID:e,abTestVersion:i,user:o,language:a}),c.push(u)),(0,d.T)(...c,this.setSEO(r,t,a,n,u))})),(0,m.O)(this.getActions().setLoading(!0)),(0,h.l)(this.getActions().setLoading(!1),this.terminate()),(0,g.R)(this.dispose$),(0,p.K)((e=>(console.error(e),(0,s.of)(this.noop()))))))))}setSEO(e,t,i,o,a){var n;if((null===(n=this.bizContext.state.bizContext)||void 0===n?void 0:n.isBot)&&a){const n=this.itemList.state$.pipe((0,v.q)(1),(0,x.M)(this.item.state$,this.user.state$),(0,c.z)((([a,n,r])=>{var s,d;const l=null===(s=a.question)||void 0===s?void 0:s.list,c=(null!==(d=null==l?void 0:l.map((e=>n[e])))&&void 0!==d?d:[]).filter(Boolean),u=c.map((e=>{var t;return Object.assign(Object.assign({},e),{author:r.users[null!==(t=e.author)&&void 0!==t?t:""]})}));return this.seoModule.setQuestionSEOProps(e,{language:i},c,o,{scene:t},u)})));return a.pipe((0,f.T)(n))}return this.seoModule.setQuestionSEOProps(e,{language:i},[],o,{scene:t})}};(0,o.__decorate)([(0,n.cQ)(),(0,o.__metadata)("design:type",l.y)],I.prototype,"dispose$",void 0),(0,o.__decorate)([(0,n.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],I.prototype,"setQuestionInfo",null),(0,o.__decorate)([(0,n.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object]),(0,o.__metadata)("design:returntype",void 0)],I.prototype,"resetData",null),(0,o.__decorate)([(0,n.lF)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Boolean]),(0,o.__metadata)("design:returntype",void 0)],I.prototype,"setLoading",null),(0,o.__decorate)([(0,n.Qm)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[l.y]),(0,o.__metadata)("design:returntype",void 0)],I.prototype,"resetQuestionData",null),(0,o.__decorate)([(0,n.Qm)({payloadGetter:1}),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[l.y]),(0,o.__metadata)("design:returntype",void 0)],I.prototype,"getQuestionPageData",null),I=(0,o.__decorate)([(0,r.Y)("QuestionModuleDesktop"),(0,o.__metadata)("design:paramtypes",[D,b.q,y.h,j.A,_.z,w.r])],I)}}]);